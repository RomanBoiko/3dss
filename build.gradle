apply plugin: 'eclipse'
apply plugin: 'groovy'
 
repositories {
    mavenCentral()
}

dependencies {
    groovy group: 'org.codehaus.groovy', name: 'groovy-all', version: '1.8.6'
//    testCompile group: 'junit', name: 'junit', version: '4.8.2'
}

task "create-dirs" << {
   sourceSets*.groovy.srcDirs*.each { it.mkdirs() }
   sourceSets*.resources.srcDirs*.each { it.mkdirs() }
}

eclipse {
  classpath {
      file {
          withXml {rootNode ->
            rootNode.asNode().appendNode('classpathentry', [kind:'src',path:'src/main/erlang'])
            rootNode.asNode().appendNode('classpathentry', [kind:'src',path:'src/main/scripts'])
          }
      }
    //plusConfigurations += files("src/main/erlang")
    defaultOutputDir = file('build/eclipse')
  }
}